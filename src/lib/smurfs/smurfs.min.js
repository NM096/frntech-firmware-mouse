/*! Smurfs v1.0.0 Copyright (c) 2025 BC168 and contributors */
import"react";const e=(t=Object.create(null),e=>{const r=toString.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())});var t;const{isArray:r}=Array,n=(o="undefined",e=>typeof e===o);var o;const a=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),i={isArray:r,isBoolean:e=>!0===e||!1===e,isObject:e=>null!==e&&"object"==typeof e,isPlainObject:t=>{if("object"!==e(t))return!1;const r=getPrototypeOf(t);return!(null!==r&&r!==Object.prototype&&null!==Object.getPrototypeOf(r)||toStringTag in t||iterator in t)},isUndefined:n,forEach:function(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let o,a;if("object"!=typeof e&&(e=[e]),r(e))for(o=0,a=e.length;o<a;o++)t.call(null,e[o],o,e);else{if(isBuffer(e))return;const r=n?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let i;for(o=0;o<a;o++)i=r[o],t.call(null,e[i],i,e)}},hasOwnProperty:a,hasOwnProp:a};class s{constructor(){this.handlers=[]}use(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})}}function c(e,t){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="SmurfsError",t&&(this.code=t)}c.prototype;const l={};["ERR_NOT_SUPPORT","ERR_NOT_READY","ERR_DEVICE_NOT_EXIST"].forEach(e=>{l[e]={value:e}}),Object.defineProperties(c,l);const d={modelConfig:{},modelKeyMap:{},modelProfile:{},deviceSensorInfo:{},deviceProfile:{},on:function(e,t){d["on"+e]=t},listen:function(){astilectron.onMessage(function(e){switch(e.name){case"AppReady":i.hasOwnProp(d,"onAppReady")&&d.onAppReady(e.payload);break;case"DeviceListChanged":{const t=e.payload;i.hasOwnProp(d,"onDeviceListChanged")&&d.onDeviceListChanged(t);break}case"DeviceChanged":{const t=e.payload;i.hasOwnProp(d,"onDeviceChanged")&&d.onDeviceChanged(t.Device,t.Info);break}case"UpgradeProgress":{const t=e.payload;i.hasOwnProp(d,"onUpgradeProgress")&&d.onUpgradeProgress(t.Device,t.Progress);break}}})},parseUIDevices:function(e){const t={};for(const r in e){const n=e[r];if(d.config.filterDongleDevice&&"Dongle"===n.Model.Type)continue;if(d.config.filterOfflineDevice&&n.RFDevice&&("Mouse_Game"===n.Model.Type||"Mouse"===n.Model.Type)){let e=!1;if(n.Info&&n.Info.Mouse&&(e=n.Info.Mouse.Online),!e)continue}const o=n.Model;o.DeviceID=r,t[r]=o}return t},parseDPIValues:function(e,t){let r=0;const n=[];if(i.hasOwnProp(d.deviceSensorInfo,e)){const o=d.deviceSensorInfo[e];if(i.isArray(o.DPIs))for(const e of t)if(e.Open)for(const t of o.DPIs)if(e.DPI===t.DPI){r++;const o=!0===e.Select;n.push({Level:r,DPI:t.DPI,Value:t.Value,Select:o});break}}return n},parseDPILevel:function(e){let t=0;for(const r of e){if(r.Select)break;t++}return t},parseProfileName:function(e,t){let r="profile";t&&(r=t);let n=!1;for(const t of e)if(r===t){n=!0;break}if(n){const t=r+"_";for(let n=1;;n++){r=t+n;let o=!1;for(const t of e)if(r===t){o=!0;break}if(!o)break}}return r},parseMacroName:function(e,t){let r="macro";t&&(r=t);let n=!1;for(const t of e)if(r===t){n=!0;break}if(n){const t=r+"_";for(let n=1;;n++){r=t+n;let o=!1;for(const t of e)if(r===t){o=!0;break}if(!o)break}}return r},run:function(){document.addEventListener("astilectron-ready",function(){d.listen(),Promise.all([d.getSoftwareVersion(),d.getAppConfig(),d.getDeviceList()]).then(function(){d.listens.ready.forEach(function(e){e.fulfilled()})})}),d.on("AppReady",function(e){d.softwareVersion=e,Promise.all([d.getSoftwareVersion(),d.getAppConfig(),d.getDeviceList()]).then(function(){d.listens.ready.forEach(function(e){e.fulfilled()})})}),d.on("DeviceListChanged",function(e){if(JSON.stringify(e)===JSON.stringify(d.devices))return;d.devices=e;const t=d.parseUIDevices(d.devices);JSON.stringify(t)!==JSON.stringify(d.uiDevices)&&(d.uiDevices=t,d.listens.devices.forEach(function(e){e.fulfilled(d.uiDevices)}))})},openDevTools:function(){astilectron.sendMessage({name:"OpenDevTools"})},closeDevTools:function(){astilectron.sendMessage({name:"CloseDevTools"})},closeApp:function(){astilectron.sendMessage({name:"CloseApp"})},minimizeApp:function(){astilectron.sendMessage({name:"MinimizeApp"})},maximizeApp:function(){astilectron.sendMessage({name:"MaximizeApp"})},unmaximizeApp:function(){astilectron.sendMessage({name:"UnmaximizeApp"})},showWindow:function(){astilectron.sendMessage({name:"ShowWindow"})},hideWindow:function(){astilectron.sendMessage({name:"HideWindow"})},getSoftwareVersion:function(){return new Promise((e,t)=>{if(i.isUndefined(astilectron))return t(new c("astilectron is undefined",c.ERR_DEVICE_NOT_READY));if(!i.isUndefined(d.softwareVersion))return e(d.softwareVersion);{const t={name:"GetSoftwareVersion"};astilectron.sendMessage(t,function(t){return d.softwareVersion=t.payload,e(d.softwareVersion)})}})},getAppConfig:function(){return new Promise((e,t)=>{if(i.isUndefined(astilectron))return t(new c("astilectron is undefined",c.ERR_DEVICE_NOT_READY));if(!i.isUndefined(d.appConfig))return e(d.appConfig);{const t={name:"LoadAppConfig"};astilectron.sendMessage(t,function(t){return d.appConfig=t.payload,e(d.appConfig)})}})},setAppConfig:function(e){return new Promise((t,r)=>{if(i.isUndefined(astilectron))return r(new c("astilectron is undefined",c.ERR_DEVICE_NOT_READY));const n={name:"SaveAppConfig",payload:{Config:e}};astilectron.sendMessage(n,function(n){return i.isBoolean(n.payload)?(n.payload&&(d.appConfig=e),t(n.payload)):r("Returned result is abnormal: "+String(n))})})},getDeviceList:function(){return new Promise((e,t)=>{if(i.isUndefined(astilectron))return t(new c("astilectron is undefined",c.ERR_DEVICE_NOT_READY));if(!i.isUndefined(d.devices))return e(d.parseUIDevices(d.devices));{const t={name:"GetDeviceList"};astilectron.sendMessage(t,function(t){const r=t.payload;return i.hasOwnProp(d,"onDeviceListChanged")&&d.onDeviceListChanged(r),e(d.parseUIDevices(r))})}})},getDeviceSensorInfo:function(e){return new Promise(async(t,r)=>{if(!i.hasOwnProp(d.devices,e))return r(new c(`Device not exist, DeviceID: ${e}`,c.ERR_DEVICE_NOT_EXIST));if(i.hasOwnProp(d.deviceSensorInfo,e))return t(d.deviceSensorInfo[e]);{const r=d.devices[e];let n=(await d.getModelConfig(r.Model.ModelID)).SensorInfo;if(r.Info&&r.Info.SensorInfo){const e=r.Info.SensorInfo;0===e.DPIType?i.isUndefined(n)&&(n=e):n=e}return d.deviceSensorInfo[e]=n,t(d.deviceSensorInfo[e])}})},resetDevice:function(e){return new Promise((t,r)=>{if(!i.hasOwnProp(d.devices,e))return r(new c(`Device not exist, DeviceID: ${e}`,c.ERR_DEVICE_NOT_EXIST));const n={name:"Reset",payload:{Device:e}};astilectron.sendMessage(n,function(e){return t(e.payload)})})},getModelConfig:function(e){return new Promise((t,r)=>{if(!i.isUndefined(d.modelConfig[e]))return t(d.modelConfig[e]);{const r={name:"GetModelConfig",payload:{ModelID:e}};astilectron.sendMessage(r,function(r){return d.modelConfig[e]=r.payload,t(d.modelConfig[e])})}})},getModelKeyMap:function(e){return new Promise((t,r)=>{if(!i.isUndefined(d.modelKeyMap[e]))return t(d.modelKeyMap[e]);{const r={name:"GetModelKeyMap",payload:{ModelID:e}};astilectron.sendMessage(r,function(r){return d.modelKeyMap[e]=r.payload,t(d.modelKeyMap[e])})}})},getModelProfile:function(e){return new Promise((t,r)=>{if(!i.isUndefined(d.modelProfile[e]))return t(d.modelProfile[e]);{const r={name:"GetModelProfile",payload:{ModelID:e}};astilectron.sendMessage(r,function(r){return d.modelProfile[e]=r.payload,t(d.modelProfile[e])})}})},msgGetProfiles:function(e){return new Promise((t,r)=>{const n={name:"GetProfiles",payload:{ModelID:e}};astilectron.sendMessage(n,function(e){return t(e.payload)})})},msgGetSelectProfile:function(e){return new Promise((t,r)=>{const n={name:"GetSelectProfile",payload:{ModelID:e}};astilectron.sendMessage(n,function(e){return t(e.payload)})})},msgSetSelectProfile:function(e,t){return new Promise((r,n)=>{const o={name:"SetSelectProfile",payload:{ModelID:e,Name:t}};astilectron.sendMessage(o,function(e){return r(e.payload)})})},msgAddProfile:function(e,t){return new Promise((r,n)=>{const o={name:"AddProfile",payload:{ModelID:e,Name:t}};astilectron.sendMessage(o,function(e){return r(e.payload)})})},msgDelProfile:function(e,t){return new Promise((r,n)=>{const o={name:"DelProfile",payload:{ModelID:e,Name:t}};astilectron.sendMessage(o,function(e){return r(e.payload)})})},msgRenameProfile:function(e,t,r){return new Promise((n,o)=>{const a={name:"RenameProfile",payload:{ModelID:e,Name:t,NewName:r}};astilectron.sendMessage(a,function(e){return n(e.payload)})})},msgReadProfile:function(e,t){return new Promise((r,n)=>{const o={name:"ReadProfile",payload:{ModelID:e,Name:t}};astilectron.sendMessage(o,function(e){return r(e.payload)})})},msgSaveProfile:function(e,t,r){return new Promise((n,o)=>{const a={name:"SaveProfile",payload:{ModelID:e,Name:t,Profile:r}};astilectron.sendMessage(a,function(e){return n(e.payload)})})},msgSetKeyDefine:function(e,t){return new Promise((r,n)=>{const o={name:"SetKeyDefine",payload:{Device:e,Profile:t}};astilectron.sendMessage(o,function(e){return r(e.payload)})})},msgSetLEDEffect:function(e,t){return new Promise((r,n)=>{const o={name:"SetLEDEffect",payload:{Device:e,LEDEffect:t}};astilectron.sendMessage(o,function(e){return r(e.payload)})})},msgSetDPI:function(e,t){return new Promise((r,n)=>{const o={name:"SetDPI",payload:{Device:e,DPI:t}};astilectron.sendMessage(o,function(e){return r(e.payload)})})},msgImportProfile:function(e,t){return new Promise((r,n)=>{const o={name:"ImportProfile",payload:{ModelID:e,Path:t}};astilectron.sendMessage(o,function(e){return r(e.payload)})})},msgExportProfile:function(e,t,r){return new Promise((n,o)=>{const a={name:"ExportProfile",payload:{ModelID:e,Profile:t,Path:r}};astilectron.sendMessage(a,function(e){return n(e.payload)})})},getProfiles:function(e){return new Promise(async(t,r)=>{if(!i.hasOwnProp(d.devices,e))return r(new c(`Device not exist, DeviceID: ${e}`,c.ERR_DEVICE_NOT_EXIST));const n=d.devices[e],o=await d.msgGetSelectProfile(n.Model.ModelID),a=await d.msgGetProfiles(n.Model.ModelID);let s=[],l=null;for(const e of a)""===o&&(o=e),o===e?(l=await d.msgReadProfile(n.Model.ModelID,e),s.push({Name:e,Select:!0,Prifile:l})):s.push({Name:e});return 0!==s.length&&null===l&&(l=await d.msgReadProfile(n.Model.ModelID,s[0].Name),s[0].Select=!0,s[0].Prifile=l),t(s)})},addProfile:function(e,t,r){return new Promise(async(n,o)=>{if(!i.hasOwnProp(d.devices,e))return o(new c(`Device not exist, DeviceID: ${e}`,c.ERR_DEVICE_NOT_EXIST));const a=d.devices[e];let s=await d.msgAddProfile(a.Model.ModelID,t);if(!0!==s)return o("Message AddProfile returned result is abnormal: "+String(s));const l=await d.getModelProfile(a.Model.ModelID);if(s=await d.msgSaveProfile(a.Model.ModelID,t,l),!0!==s)return o("Message SaveProfile returned result is abnormal: "+String(s));!0===r&&await d.msgSetSelectProfile(a.Model.ModelID,t);return n(await d.getProfiles(e))})},delProfile:function(e,t){return new Promise(async(r,n)=>{if(!i.hasOwnProp(d.devices,e))return n(new c(`Device not exist, DeviceID: ${e}`,c.ERR_DEVICE_NOT_EXIST));const o=d.devices[e],a=await d.msgDelProfile(o.Model.ModelID,t);if(!0!==a)return n("Message DelProfile returned result is abnormal: "+String(a));return r(await d.getProfiles(e))})},renameProfile:function(e,t,r){return new Promise(async(n,o)=>{if(!i.hasOwnProp(d.devices,e))return o(new c(`Device not exist, DeviceID: ${e}`,c.ERR_DEVICE_NOT_EXIST));const a=d.devices[e],s=await d.msgGetSelectProfile(a.Model.ModelID),l=await d.msgRenameProfile(a.Model.ModelID,t,r);if(!0!==l)return o("Message RenameProfile returned result is abnormal: "+String(l));s===t&&await d.msgSetSelectProfile(a.Model.ModelID,r);return n(await d.getProfiles(e))})},getProfile:function(e,t,r,n){return new Promise(async(n,o)=>{if(!i.hasOwnProp(d.devices,e))return o(new c(`Device not exist, DeviceID: ${e}`,c.ERR_DEVICE_NOT_EXIST));const a=d.devices[e],s=await d.msgGetSelectProfile(a.Model.ModelID);r&&s!==t&&await d.msgSetSelectProfile(a.Model.ModelID,t);const l=await d.getProfiles(e);if(!r&&s!==t)for(const e of l)if(e.Name===t){const r=await d.msgReadProfile(a.Model.ModelID,t);e.Prifile=r;break}return n(l)})},setProfile:function(e,t,r,n){return new Promise(async(o,a)=>{if(!i.hasOwnProp(d.devices,e))return a(new c(`Device not exist, DeviceID: ${e}`,c.ERR_DEVICE_NOT_EXIST));const s=d.devices[e];let l=await d.msgSaveProfile(s.Model.ModelID,t,r);if(!0!==l)return a("Message SaveProfile returned result is abnormal: "+String(l));if(!0===n){let t={};if(i.hasOwnProp(d.deviceProfile,e)&&(t=d.deviceProfile[e]),JSON.stringify(r.KeySet)===JSON.stringify(t.KeySet)&&(l=await d.msgSetKeyDefine(e,r),!0!==l))return a("Message SetKeyDefine returned result is abnormal: "+String(l));if(!i.isUndefined(r.LEDEffect)&&JSON.stringify(r.LEDEffect)===JSON.stringify(t.LEDEffect)&&(l=await d.msgSetLEDEffect(e,r.LEDEffect),!0!==l))return a("Message SetLEDEffect returned result is abnormal: "+String(l));if(!i.isUndefined(r.DPIs)&&JSON.stringify(r.DPIs)===JSON.stringify(t.DPIs)){const t=d.parseDPIValues(e,r.DPIs);if(!s.Info||!s.Info.DPILevels)return a("device.Info.DPILevels is abnormal");{const r=s.Info.DPILevels;let n=d.parseDPILevel(t);if(r[s.Info.Mode]=n,l=await d.msgSetDPI(e,{DPIs:t,DPILevels:r}),!0!==l)return a("Message SetDPI returned result is abnormal: "+String(l))}}d.deviceProfile[e]=r}return o(!0)})},importProfile:function(e,t){return new Promise(async(r,n)=>{if(!i.hasOwnProp(d.devices,e))return n(new c(`Device not exist, DeviceID: ${e}`,c.ERR_DEVICE_NOT_EXIST));const o=d.devices[e],a=await d.msgImportProfile(o.Model.ModelID,t);if(!i.isObject(a))return n("Message ImportProfile returned result is abnormal");let s=await d.msgGetProfiles(o.Model.ModelID);const l=d.parseProfileName(s,a.Name);let f=await d.msgAddProfile(o.Model.ModelID,l);return!0!==f?n("Message AddProfile returned result is abnormal: "+String(f)):(f=await d.msgSaveProfile(o.Model.ModelID,l,a),!0!==f?n("Message SaveProfile returned result is abnormal: "+String(f)):(s=await d.getProfiles(e),r(s)))})},exportProfile:function(e,t,r){return new Promise(async(n,o)=>{if(!i.hasOwnProp(d.devices,e))return o(new c(`Device not exist, DeviceID: ${e}`,c.ERR_DEVICE_NOT_EXIST));const a=d.devices[e],s=await d.msgReadProfile(a.Model.ModelID,t);if(!i.isObject(s))return o("Message ReadProfile returned result is abnormal");return!0!==await d.msgExportProfile(a.Model.ModelID,s,r)?o("Message ExportProfile returned result is abnormal"):n(!0)})},msgGetMacroCategorys:function(){return new Promise((e,t)=>{astilectron.sendMessage({name:"GetMacroCategorys"},function(t){return e(t.payload)})})},msgGetMacros:function(e){return new Promise((t,r)=>{const n={name:"GetMacros",payload:{Category:e}};astilectron.sendMessage(n,function(e){return t(e.payload)})})},msgAddMacroCategory:function(e){return new Promise((t,r)=>{const n={name:"AddMacroCategory",payload:{Category:e}};astilectron.sendMessage(n,function(e){return t(e.payload)})})},msgDelMacroCategory:function(e){return new Promise((t,r)=>{const n={name:"DelMacroCategory",payload:{Category:e}};astilectron.sendMessage(n,function(e){return t(e.payload)})})},msgRenameMacroCategory:function(e,t){return new Promise((r,n)=>{const o={name:"RenameMacroCategory",payload:{Category:e,NewCategory:t}};astilectron.sendMessage(o,function(e){return r(e.payload)})})},msgAddMacro:function(e,t){return new Promise((r,n)=>{const o={name:"AddMacro",payload:{Category:e,Name:t}};astilectron.sendMessage(o,function(e){return r(e.payload)})})},msgDelMacro:function(e,t){return new Promise((r,n)=>{const o={name:"DelMacro",payload:{Category:e,Name:t}};astilectron.sendMessage(o,function(e){return r(e.payload)})})},msgRenameMacro:function(e,t,r){return new Promise((n,o)=>{const a={name:"RenameMacro",payload:{Category:e,Name:t,NewName:r}};astilectron.sendMessage(a,function(e){return n(e.payload)})})},msgReadMacro:function(e,t){return new Promise((r,n)=>{const o={name:"ReadMacro",payload:{Category:e,Name:t}};astilectron.sendMessage(o,function(e){return r(e.payload)})})},msgSaveMacro:function(e,t,r){return new Promise((n,o)=>{const a={name:"SaveMacro",payload:{Category:e,Name:t,Macrofile:r}};astilectron.sendMessage(a,function(e){return n(e.payload)})})},msgImportMacro:function(e){return new Promise((t,r)=>{const n={name:"ImportMacro",payload:{Path:e}};astilectron.sendMessage(n,function(e){return t(e.payload)})})},msgExportMacro:function(e,t,r){return new Promise((n,o)=>{const a={name:"ExportMacro",payload:{Name:e,Macrofile:t,Path:r}};astilectron.sendMessage(a,function(e){return n(e.payload)})})},getMacros:function(){return new Promise(async(e,t)=>{const r=[],n=await d.msgGetMacroCategorys();if(!i.isArray(n))return t("Message GetMacroCategory returned result is abnormal");for(const e of n){const t=await d.msgGetMacros(e);i.isArray(t)&&r.push({Name:e,Macros:t})}return e(r)})},addMacroCategory:function(e){return new Promise(async(t,r)=>{const n=await d.msgAddMacroCategory(e);if(!0!==n)return r("Message AddMacroCategory returned result is abnormal: "+String(n));return t(await d.getMacros())})},delMacroCategory:function(e){return new Promise(async(t,r)=>{const n=await d.msgDelMacroCategory(e);if(!0!==n)return r("Message DelMacroCategory returned result is abnormal: "+String(n));return t(await d.getMacros())})},renameMacroCategory:function(e,t){return new Promise(async(r,n)=>{const o=await d.msgRenameMacroCategory(e,t);if(!0!==o)return n("Message RenameMacroCategory returned result is abnormal: "+String(o));return r(await d.getMacros())})},addMacro:function(e,t){return new Promise(async(r,n)=>{const o=await d.msgAddMacro(e,t);if(!0!==o)return n("Message AddMacro returned result is abnormal: "+String(o));return r(await d.getMacros())})},delMacro:function(e,t){return new Promise(async(r,n)=>{const o=await d.msgDelMacro(e,t);if(!0!==o)return n("Message DelMacro returned result is abnormal: "+String(o));return r(await d.getMacros())})},renameMacro:function(e,t,r){return new Promise(async(n,o)=>{const a=await d.msgRenameMacro(e,t,r);if(!0!==a)return o("Message RenameMacro returned result is abnormal: "+String(a));return n(await d.getMacros())})},getMacro:function(e,t){return new Promise(async(r,n)=>{const o=await d.msgReadMacro(e,t);return i.isObject(o)?r(o):n("Message ReadMacro returned result is abnormal: "+String(o))})},setMacro:function(e,t,r){return new Promise(async(n,o)=>{let a=await d.msgSaveMacro(e,t,r);return!0!==a?o("Message SaveMacro returned result is abnormal: "+String(a)):n(!0)})},importMacro:function(e,t){return new Promise(async(r,n)=>{const o=await d.msgImportMacro(t);if(!i.isObject(o))return n("Message ImportMacro returned result is abnormal");let a=await d.msgGetMacros(e);const s=d.parseMacroName(a,o.Name);let c=await d.msgAddMacro(e,s);if(!0!==c)return n("Message AddMacro returned result is abnormal: "+String(c));if(c=await d.msgSaveMacro(e,s,o),!0!==c)return n("Message SaveMacro returned result is abnormal: "+String(c));return r(await d.getMacros())})},exportMacro:function(e,t,r){return new Promise(async(n,o)=>{const a=await d.msgReadMacro(e,t);if(!i.isObject(a))return o("Message ReadMacro returned result is abnormal");return!0!==await d.msgExportMacro(t,a,r)?o("Message ExportMacro returned result is abnormal"):n(!0)})}},f={run:function(){this.listens.ready.forEach(function(e){e.fulfilled()})},openDevTools:function(){throw new c(`Interface openDevTools is not supported in Adapter ${this.config.adapter}`,c.ERR_NOT_SUPPORT)},closeDevTools:function(){throw new c(`Interface closeDevTools is not supported in Adapter ${this.config.adapter}`,c.ERR_NOT_SUPPORT)},closeApp:function(){throw new c(`Interface closeApp is not supported in Adapter ${this.config.adapter}`,c.ERR_NOT_SUPPORT)},minimizeApp:function(){throw new c(`Interface minimizeApp is not supported in Adapter ${this.config.adapter}`,c.ERR_NOT_SUPPORT)},maximizeApp:function(){throw new c(`Interface maximizeApp is not supported in Adapter ${this.config.adapter}`,c.ERR_NOT_SUPPORT)},unmaximizeApp:function(){throw new c(`Interface unmaximizeApp is not supported in Adapter ${this.config.adapter}`,c.ERR_NOT_SUPPORT)},showWindow:function(){throw new c(`Interface showWindow is not supported in Adapter ${this.config.adapter}`,c.ERR_NOT_SUPPORT)},hideWindow:function(){throw new c(`Interface hideWindow is not supported in Adapter ${this.config.adapter}`,c.ERR_NOT_SUPPORT)},getSoftwareVersion:function(){return new Promise(e=>{if(this.config&&this.config.softwareVersion)return e(this.config.softwareVersion)})}},u={go:d,webhid:f};const p={getAdapter:function(e,t,r){let n;if(n=u[e.toLowerCase()],void 0===n)throw new c(`Unknown adapter '${e}'`);return n&&i.isObject(n)&&(n.config=t,n.listens=r),n},adapters:u};class g{constructor(e){this.defaults=e||{},this.listens={ready:new s,devices:new s},"auto"!==this.defaults.adapter&&""!==this.defaults.adapter||(navigator.userAgent.includes("Electron")?this.defaults.adapter="go":this.defaults.adapter="webhid"),this.adapter=p.getAdapter(this.defaults.adapter,this.defaults,this.listens)}run(){try{this.adapter.run()}catch(e){throw e}}openDevTools(){try{this.adapter.openDevTools()}catch(e){throw e}}closeDevTools(){try{this.adapter.closeDevTools()}catch(e){throw e}}closeApp(){try{this.adapter.closeApp()}catch(e){throw e}}minimizeApp(){try{this.adapter.minimizeApp()}catch(e){throw e}}maximizeApp(){try{this.adapter.maximizeApp()}catch(e){throw e}}unmaximizeApp(){try{adapter.unmaximizeApp()}catch(e){throw e}}showWindow(){try{this.adapter.showWindow()}catch(e){throw e}}hideWindow(){try{this.adapter.hideWindow()}catch(e){throw e}}getSoftwareVersion(e=!1){return new Promise((t,r)=>{this.adapter.getSoftwareVersion().then(function(r){return t(e?String(r).split("+")[0]:r)})})}getAppConfig(){return this.adapter.getAppConfig()}setAppConfig(e){return this.adapter.setAppConfig(e)}getDeviceList(){return this.adapter.getDeviceList()}getDeviceSensorInfo(e){return this.adapter.getDeviceSensorInfo(e)}resetDevice(e){return this.adapter.resetDevice(e)}getModelConfig(e){return this.adapter.getModelConfig(e)}getModelKeyMap(e){return this.adapter.getModelKeyMap(e)}getModelProfile(e){return this.adapter.getModelProfile(e)}getProfiles(e){return this.adapter.getProfiles(e)}addProfile(e,t,r=!0){return this.adapter.addProfile(e,t,r)}delProfile(e,t){return this.adapter.delProfile(e,t)}renameProfile(e,t,r){return this.adapter.renameProfile(e,t,r)}getProfile(e,t,r=!1,n=!1){return this.adapter.getProfile(e,t,r,n)}setProfile(e,t,r,n=!0){return this.adapter.setProfile(e,t,r,n)}importProfile(e,t){return this.adapter.importProfile(e,t)}exportProfile(e,t,r){return this.adapter.exportProfile(e,t,r)}getMacros(){return this.adapter.getMacros()}addMacroCategory(e){return this.adapter.addMacroCategory(e)}delMacroCategory(e){return this.adapter.delMacroCategory(e)}renameMacroCategory(e,t){return this.adapter.renameMacroCategory(e,t)}addMacro(e,t){return this.adapter.addMacro(e,t)}delMacro(e,t){return this.adapter.delMacro(e,t)}renameMacro(e,t,r){return this.adapter.renameMacro(e,t,r)}getMacro(e,t){return this.adapter.getMacro(e,t)}setMacro(e,t,r){return this.adapter.setMacro(e,t,r)}importMacro(e,t){return this.adapter.importMacro(e,t)}exportMacro(e,t,r){return this.adapter.exportMacro(e,t,r)}}function m(e,t){t=t||{};const r={};function n(e,t,r,n){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge.call({caseless:n},e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function o(e,t,r,o){return i.isUndefined(t)?i.isUndefined(e)?void 0:n(void 0,e,0,o):n(e,t,0,o)}function a(e,t){return i.isUndefined(t)?i.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function s(r,o,a){return a in t?n(r,o):a in e?n(void 0,r):void 0}const c={adapter:a,softwareVersion:a,filterDongleDevice:a,filterOfflineDevice:a};return i.forEach(Object.keys({...e,...t}),function(n){const a=c[n]||o,l=a(e[n],t[n],n);i.isUndefined(l)&&a!==s||(r[n]=l)}),r}const M=function e(t){const r=new g(t);return r.create=function(r){return e(m(t,r))},r}({adapter:"auto",softwareVersion:"0.0.0",filterDongleDevice:!0,filterOfflineDevice:!0});M.VERSION="0.0.1",M.default=M;export{M as default};
//# sourceMappingURL=smurfs.min.js.map
